<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="Font-Awesome-3.2.1/css/font-awesome.min.css">
    <title>Document</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        #app{
            width: 98%;
            margin: 10px auto;
            border: 1px solid red;
            display: flex;
            flex-wrap: wrap;
            justify-content:space-around;

        }
        .divs{
            width: 19%;
            margin-top: 10px;
            margin-bottom: 10px;
        }
        .imgs{
            width: 100%;
            height: 150px;
        }
        .ps{
            font-size: 13px;
            font-weight: 600;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap
        }
        .ps2{
            font-size: 10px;
            color: gray;
            min-height: 14px;
        }
        .ps3{
            color: orangered;
        }
        .ps3 .sp{
            font-size: 12px;
        }
        .star{
            position: relative;
            overflow: hidden;
        }
        .starG .i1{
            font-size: 15px;
            color: grey;
        }
        .star_y{
            position: absolute;
            top: 0;
            left: 0;
            overflow: hidden;
        }
        .starY { 
            width: 102px;
        }
        .starY .i2{
            font-size: 15px;
            color: orange;
        }
    </style>
</head>

<body>
    <div id="app"></div>
    <!-- 
        字符串模板实现效果
     -->
    <script src="jquery-3.2.1.min.js"></script>
    <script>
        let app=document.getElementById("app");
        var mt_json =
            [
                {
                    "itemId": "75827090",
                    "title": "热啊餐馆（柏威年购物广场店）",
                    "imgUrl": "http://p1.meituan.net/w.h/dpmerchantalbum/3b69f52e47f93e6566e189070b345d042444547.jpg",
                    "score": "4.9",
                    "consumeNum": null,
                    "areaName": "胜利广场/青泥洼桥",
                    "lowPrice": "92.0",
                    "saleNum": null,
                    "commentNum": 875,
                    "detailUrl": "",
                    "firstCate": [
                        1,
                        20632,
                        20426,
                        20557
                    ],
                    "avgPrice": 68
                },
                {
                    "itemId": "1556229",
                    "title": "鼎香缘海鲜自助火锅（佳兆业店）",
                    "imgUrl": "http://p0.meituan.net/w.h/deal/201209/23/12_0923150657.jpg",
                    "score": "4.0",
                    "consumeNum": null,
                    "areaName": "友好广场",
                    "lowPrice": "67.0",
                    "saleNum": null,
                    "commentNum": 27031,
                    "detailUrl": "",
                    "firstCate": [
                        1,
                        20632,
                        20426,
                        20557
                    ],
                    "avgPrice": 63
                },
                {
                    "itemId": "92588688",
                    "title": "故乡烤肉（左岸经典店）",
                    "imgUrl": "http://p0.meituan.net/w.h/deal/__21711386__9391839.jpg",
                    "score": "4.1",
                    "consumeNum": null,
                    "areaName": "",
                    "lowPrice": "79.0",
                    "saleNum": null,
                    "commentNum": 701,
                    "detailUrl": "",
                    "firstCate": [
                        1,
                        20632,
                        20426,
                        20557
                    ],
                    "avgPrice": 60
                },
                {
                    "itemId": "6176585",
                    "title": "华晟山城火锅（金马路店）",
                    "imgUrl": "https://img.meituan.net/w.h/msmerchant/4a30bd7787a3885c6f3900c215367c8b1336517.jpg",
                    "score": "5.0",
                    "consumeNum": null,
                    "areaName": "",
                    "lowPrice": "89.9",
                    "saleNum": null,
                    "commentNum": 6558,
                    "detailUrl": "",
                    "firstCate": [
                        1,
                        20632,
                        20426,
                        20557
                    ],
                    "avgPrice": 66
                },
                {
                    "itemId": "169112579",
                    "title": "那胡同里的小烤肉馆（万达店）",
                    "imgUrl": "http://p0.meituan.net/w.h/deal/20011b0ea8a7c5399b4dca91b06f435187213.jpg",
                    "score": "4.6",
                    "consumeNum": null,
                    "areaName": "",
                    "lowPrice": "98.0",
                    "saleNum": null,
                    "commentNum": 239,
                    "detailUrl": "",
                    "firstCate": [
                        1,
                        20632,
                        20426,
                        20557
                    ],
                    "avgPrice": 54
                },
                {
                    "itemId": "171089212",
                    "title": "泷千家（工业大学店）",
                    "imgUrl": "https://img.meituan.net/w.h/msmerchant/3df8647a6b5fa6179fbb334e57c0a65c328728.jpg",
                    "score": "3.7",
                    "consumeNum": null,
                    "areaName": "周水子机场",
                    "lowPrice": "9.9",
                    "saleNum": null,
                    "commentNum": 314,
                    "detailUrl": "",
                    "firstCate": [
                        1,
                        20426,
                        20557
                    ],
                    "avgPrice": 13
                },
                {
                    "itemId": "3252004",
                    "title": "西湖印象（罗斯福天兴店）",
                    "imgUrl": "http://p1.meituan.net/w.h/deal/16b37ade5ab2127c4a1bca826b9b317542060.jpg",
                    "score": "4.4",
                    "consumeNum": null,
                    "areaName": "罗斯福购物中心",
                    "lowPrice": "95.0",
                    "saleNum": null,
                    "commentNum": 9490,
                    "detailUrl": "",
                    "firstCate": [
                        1,
                        20632,
                        20426,
                        20557
                    ],
                    "avgPrice": 57
                },
                {
                    "itemId": "159154142",
                    "title": "优为客牛排自助（恒隆广场店）",
                    "imgUrl": "http://p0.meituan.net/w.h/mogu/50b1c4b111eab10f5620846fcd7cc1dd31479.jpg",
                    "score": "4.6",
                    "consumeNum": null,
                    "areaName": "恒隆广场",
                    "lowPrice": "67.0",
                    "saleNum": null,
                    "commentNum": 2073,
                    "detailUrl": "",
                    "firstCate": [
                        1,
                        20632,
                        20426,
                        20557
                    ],
                    "avgPrice": 67
                },
                {
                    "itemId": "51511053",
                    "title": "红龙虾海鲜火锅烤肉自助（万达店）",
                    "imgUrl": "http://p1.meituan.net/w.h/mogu/99db9bea7ff9bcb5e0d7c467ac294ff4504348.jpg",
                    "score": "3.0",
                    "consumeNum": null,
                    "areaName": "",
                    "lowPrice": "68.9",
                    "saleNum": null,
                    "commentNum": 13204,
                    "detailUrl": "",
                    "firstCate": [
                        1,
                        20632,
                        20426,
                        20557
                    ],
                    "avgPrice": 62
                },
                {
                    "itemId": "1953337",
                    "title": "格兰西点（和平路店）",
                    "imgUrl": "http://p0.meituan.net/w.h/mogu/f851cbd6c70c7ad09b31e4c3e8ae06ce41690.jpg",
                    "score": "3.9",
                    "consumeNum": null,
                    "areaName": "金州",
                    "lowPrice": "39.8",
                    "saleNum": null,
                    "commentNum": 6442,
                    "detailUrl": "",
                    "firstCate": [
                        1,
                        20632,
                        20426,
                        20557
                    ],
                    "avgPrice": 51
                },
                {
                    "itemId": "81050446",
                    "title": "灵芝妹子生蚝米线（软景店）",
                    "imgUrl": "http://p0.meituan.net/w.h/mogu/03f8a00ac880249d7bd557116fc649051265836.png",
                    "score": "3.5",
                    "consumeNum": null,
                    "areaName": "软件园/数码广场",
                    "lowPrice": "21.0",
                    "saleNum": null,
                    "commentNum": 697,
                    "detailUrl": "",
                    "firstCate": [
                        1,
                        20426,
                        20557
                    ],
                    "avgPrice": 29
                },
                {
                    "itemId": "52483328",
                    "title": "101比萨（第五郡店）",
                    "imgUrl": "https://img.meituan.net/w.h/msmerchant/50d70ecd71912f926660fb6eb6f14fbb18715.jpg",
                    "score": "4.6",
                    "consumeNum": null,
                    "areaName": "",
                    "lowPrice": "47.5",
                    "saleNum": null,
                    "commentNum": 414,
                    "detailUrl": "",
                    "firstCate": [
                        1,
                        20632,
                        20426,
                        20557
                    ],
                    "avgPrice": 44
                },
                {
                    "itemId": "40354685",
                    "title": "阿尔卑斯牛排披萨自助西餐厅（高新万达店）",
                    "imgUrl": "http://p0.meituan.net/w.h/poi/ee7618f31f8bf9cdf1671ff1bc3468a9119655.jpg",
                    "score": "4.7",
                    "consumeNum": null,
                    "areaName": "万达广场",
                    "lowPrice": "74.9",
                    "saleNum": null,
                    "commentNum": 30988,
                    "detailUrl": "",
                    "firstCate": [
                        1,
                        20632,
                        20426,
                        20557
                    ],
                    "avgPrice": 68
                },
                {
                    "itemId": "92719133",
                    "title": "鑫涛温泉会馆",
                    "imgUrl": "http://p1.meituan.net/w.h/joymerchant/2032569960534369991-2899548-1500859352279.JPG",
                    "score": "3.8",
                    "consumeNum": null,
                    "areaName": "付家庄滨海路商圈",
                    "lowPrice": "39.0",
                    "saleNum": null,
                    "commentNum": 10134,
                    "detailUrl": "",
                    "firstCate": [
                        2,
                        20611,
                        20426
                    ],
                    "avgPrice": 45
                },
                {
                    "itemId": "40300896",
                    "title": "和谐号炭火烤肉火锅自助餐厅（华南佳和总店直营店）",
                    "imgUrl": "http://p1.meituan.net/w.h/mogu/6ab97123849e8fdc21cd29560240d15471956.png",
                    "score": "3.8",
                    "consumeNum": null,
                    "areaName": "华南广场",
                    "lowPrice": "69.0",
                    "saleNum": null,
                    "commentNum": 25294,
                    "detailUrl": "",
                    "firstCate": [
                        1,
                        20632,
                        20426,
                        20557
                    ],
                    "avgPrice": 64
                }
            ]
        let div='';
        mt_json.forEach(
            (item)=>{
                // 以 "/" 为基准进行拆分
                let pp=item.imgUrl.split("/");
                // 设置默认值
                pp[3]="200.200";
                // console.log(pp);
                // 提取数组中的第一个值，便于后边的字符串拼接
                let pp2=pp[0];
                // 把第一个提出来，后面的字符串在第一个的基础上进行拼接
                for(let i=1;i<pp.length;i++){
                    pp2 +="/"+pp[i];
                }
                // 输出最后拼接好的图片路径的字符串，检查
                // console.log(pp2);
                // console.log(item);
                // 获取评分
                let score=(item.score/10).toFixed(2);
                // console.log(score);
                // 根据评分设置宽，然后显示对应星星亮的颗数
                let wid=200*score;
                // console.log(wid);
                div +=
                `
                <div class="divs">
                    <img src=${pp2} class="imgs">
                    <p class="ps">${item.title}</p>
                    <div class="star-txt">
                        <div style="display:inline-block;" class="star">
                            <p class="starG">
                                <i class="icon icon-star i1"></i>
                                <i class="icon icon-star i1"></i>
                                <i class="icon icon-star i1"></i>
                                <i class="icon icon-star i1"></i>
                                <i class="icon icon-star i1"></i>
                            </p>
                            <div class="star_y" style="width:${wid}px;">
                                <p class="starY">
                                    <i class="icon icon-star i2"></i>
                                    <i class="icon icon-star i2"></i>
                                    <i class="icon icon-star i2"></i>
                                    <i class="icon icon-star i2"></i>
                                    <i class="icon icon-star i2"></i>
                                </p>
                            </div>
                        </div>
                        <span class="ps2">${item.commentNum}个评价</span>
                    </div>
                    <p class="ps2">${item.areaName}</p>
                    <p class="ps3"><span class="sp">￥</span><span>${item.lowPrice}</span><span class="sp">起</span></p>
                </div>
                `
            }
        )
        app.innerHTML = div;
    </script>
</body>

</html>